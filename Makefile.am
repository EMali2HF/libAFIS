# -*- makefile-automake -*-
#
# Configuration bootstrap, top level makefile
#
# $Id$
#
# Blame: Jordan Hrycaj <jordan@teddy-net.com>

# recommended by libtoolize
ACLOCAL_AMFLAGS = -I m4lib

SUBDIRS       = boot Sources
CLEANFILES    =
BUILT_SOURCES = boot/Makefile

# ---------------------------------------------------------------------------
# Auto-for-build configuration
# ---------------------------------------------------------------------------

.PHONY: prepare
prepare: $(BUILT_SOURCES)

boot/Makefile:
	$(MAKE) -C boot -f Build Makefile

# ---------------------------------------------------------------------------
# Auto configuration helper
# ---------------------------------------------------------------------------

.PHONY: libtool
libtool: $(LIBTOOL_DEPS)
	$(SHELL) ./config.status --recheck

.PHONY: autoreconf reconf
autoreconf reconf: libtool
	rm -f $(AUTOGENERATED)
	touch configure.ac
	autoreconf

# ---------------------------------------------------------------------------
# End
# ---------------------------------------------------------------------------
